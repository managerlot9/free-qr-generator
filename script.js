document.addEventListener("DOMContentLoaded",(()=>{const e={width:300,height:300,type:"svg",data:"https://github.com/managerlot9",image:"",dotsOptions:{color:"#000",type:"square"},backgroundOptions:{color:"#fff"},imageOptions:{crossOrigin:"anonymous",margin:10}},t=new QRCodeStyling(e);t.append(document.getElementById("qr-code-container"));const n=document.getElementById("qr-text"),o=document.getElementById("qr-size"),d=document.getElementById("qr-size-value"),c=document.getElementById("qr-color"),i=document.getElementById("qr-bg-color"),a=document.getElementById("dot-style"),r=document.getElementById("logo-upload"),l=document.getElementById("remove-logo"),s=document.getElementById("download-btn"),m=()=>{t.update({width:parseInt(o.value,10),height:parseInt(o.value,10),data:n.value||" ",dotsOptions:{color:c.value,type:a.value},backgroundOptions:{color:i.value}})};n.addEventListener("input",m),o.addEventListener("input",(()=>{d.textContent=`${o.value}px`,m()})),c.addEventListener("input",m),i.addEventListener("input",m),a.addEventListener("change",m),r.addEventListener("change",(e=>{if(e.target.files&&e.target.files[0]){const n=new FileReader;n.onload=(e=>{t.update({image:e.target.result}),l.classList.remove("hidden")}),n.readAsDataURL(e.target.files[0])}})),l.addEventListener("click",(()=>{t.update({image:""}),r.value="",l.classList.add("hidden")})),s.addEventListener("click",(()=>{t.download({name:"qrcode",extension:"png"})}));const u=document.getElementById("about-modal"),p=document.getElementById("open-about-modal"),g=document.getElementById("close-about-modal"),h=()=>{document.body.classList.add("modal-open"),u.classList.add("visible")},E=()=>{document.body.classList.remove("modal-open"),u.classList.remove("visible")};p.addEventListener("click",h),g.addEventListener("click",E),u.addEventListener("click",(e=>{e.target===u&&E()})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&u.classList.contains("visible")&&E()})),u.querySelectorAll(".copy-btn").forEach((e=>{e.addEventListener("click",(()=>{const t=e.dataset.address;navigator.clipboard.writeText(t).then((()=>{const t=e.textContent;e.textContent="Copied!",setTimeout(()=>{e.textContent=t},2e3)})).catch((e=>console.error("Failed to copy address: ",e)))}))}))}));